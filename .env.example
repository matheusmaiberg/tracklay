# TRACKLAY v3.3.0 - Environment Variables

# === OBFUSCATION (Anti-Ad-Blocker) ===
OBFUSCATION_FB_UUID=a8f3c2e1-4b9d-4f5a-8c3e-2d1f9b4a7c6e    # Facebook path UUID
OBFUSCATION_GA_UUID=b7e4d3f2-5c0e-4a6b-9d4f-3e2a0c5b8d7f    # Google path UUID
OBFUSCATION_SECRET=your-secret-uuid-here                     # Hash generation secret

# === CORS ===
ALLOWED_ORIGINS=https://yourstore.myshopify.com,https://www.yourstore.com

# === GTM SERVER (optional) ===
GTM_SERVER_URL=https://cdn.yourstore.com                     # Leave empty for client-side only

# === FLAGS ===
DEBUG_HEADERS_ENABLED=false                                  # Enable debug headers (dev only)
FULL_SCRIPT_PROXY_ENABLED=true                               # Rewrite URLs in scripts
UUID_ROTATION_ENABLED=false                                  # Auto-rotate UUIDs weekly
UUID_ROTATION_INTERVAL_MS=604800000                          # Rotation interval (7 days)

# === CONTAINER ALIASES (optional) ===
GTM_CONTAINER_ALIASES={}                                     # {"abc123":"GTM-XXXXX"}

# === API TOKEN ===
ENDPOINTS_API_TOKEN=your-generated-secret-token-here         # Token for /endpoints API

# === PERFORMANCE (optional) ===
RATE_LIMIT_REQUESTS=100                                      # Requests per window
RATE_LIMIT_WINDOW=60000                                      # Window in ms (60s)
FETCH_TIMEOUT=10000                                          # Upstream timeout (10s)
CACHE_TTL=3600                                               # Script cache (1h)
MAX_REQUEST_SIZE=1048576                                     # Max body size (1MB)

# Worker base URL (required for FULL_SCRIPT_PROXY in cron jobs)
# Must be the full URL to your worker (no trailing slash)
WORKER_BASE_URL=https://cdn.yourstore.com

# Script size limit for ReDoS protection (10MB default)
SCRIPT_SIZE_LIMIT=10485760
LOG_LEVEL=info                                               # debug|info|warn|error

# === CLOUDFLARE (wrangler CLI) ===
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_API_TOKEN=your-api-token
